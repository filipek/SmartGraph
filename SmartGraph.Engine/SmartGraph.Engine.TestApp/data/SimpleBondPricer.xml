<?xml version="1.0" encoding="UTF-8"?>
<!--
// 
// Copyright (c) 2015 Filip Fodemski
// 
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files
// (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge,
// publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
// subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR
// ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH
// THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
//
-->
<e:engine name="BondPricer"
    xmlns=""
    xmlns:e="urn:smartgraph:engine"
    xmlns:n="urn:smartgraph:engine:nodes"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:smartgraph:engine ../../SmartGraph.Engine/Xml/EngineXml.xsd">

  <e:node name="ShortTicker">
    <e:obj type="SmartGraph.Engine.Nodes.Core.Ticker, SmartGraph.Engine.Nodes">
      <n:Ticker random="true" minValue="90.0" maxValue="110.0"/>
    </e:obj>
	</e:node>
  <e:node name="LongTicker">
    <e:obj type="SmartGraph.Engine.Nodes.Core.Ticker, SmartGraph.Engine.Nodes">
      <n:Ticker random="true" minValue="490.0" maxValue="510.0"/>
    </e:obj>
  </e:node>
  <e:node name="Face_Value">
    <e:obj type="SmartGraph.Engine.Nodes.Core.ConstValue, SmartGraph.Engine.Nodes">
      <n:ConstValue type="System.Double" value="100000.0" />
    </e:obj>
  </e:node>
  <e:node name="Coupon_Rate">
    <e:obj type="SmartGraph.Engine.Nodes.Core.ConstValue, SmartGraph.Engine.Nodes">
      <n:ConstValue type="System.Double" value="0.08" />
		</e:obj>
	</e:node>
	<e:node name="Interest_Rate_1">
    <e:inputs>
      <e:input name="Ticker" ref="ShortTicker" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.Core.RandomValue, SmartGraph.Engine.Nodes">
      <n:RandomValue minValue="0.1" maxValue="0.15" />
		</e:obj>
	</e:node>
  <e:node name="Interest_Rate_2">
    <e:inputs>
      <e:input name="Ticker" ref="LongTicker" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.Core.RandomValue, SmartGraph.Engine.Nodes">
      <n:RandomValue minValue="0.1" maxValue="0.15" />
    </e:obj>
  </e:node>
  <e:node name="Issue_Date">
    <e:obj type="SmartGraph.Engine.Nodes.Core.ConstValue, SmartGraph.Engine.Nodes">
      <n:ConstValue type="System.DateTime" value="2014-04-01" />
    </e:obj>
  </e:node>
  <e:node name="Years_To_Maturity">
    <e:inputs/>
		<e:obj type="SmartGraph.Engine.Nodes.Core.ConstValue, SmartGraph.Engine.Nodes">
      <n:ConstValue type="System.Int32" value="9" />
		</e:obj>
  </e:node>
  <e:node name="Payment_Schedule">
    <e:inputs>
      <e:input name="IssueDate" ref="Issue_Date" />
      <e:input name="YearsToMaturity" ref="Years_To_Maturity" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimplePaymentSchedule, SmartGraph.Engine.Nodes"/>
  </e:node>
  <e:node name="Discount_Curve_1">
    <e:inputs>
      <e:input name="Rate" ref="Interest_Rate_1" />
      <e:input name="Schedule" ref="Payment_Schedule" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleDiscountCurve, SmartGraph.Engine.Nodes" />
  </e:node>
  <e:node name="Discount_Curve_2">
    <e:inputs>
      <e:input name="Rate" ref="Interest_Rate_2" />
      <e:input name="Schedule" ref="Payment_Schedule" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleDiscountCurve, SmartGraph.Engine.Nodes" />
  </e:node>
  <e:node name="Bond_1">
    <e:inputs>
      <e:input name="FaceValue" ref="Face_Value" />
      <e:input name="CouponRate" ref="Coupon_Rate" />
      <e:input name="Schedule" ref="Payment_Schedule" />
    </e:inputs>
		<e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleBond, SmartGraph.Engine.Nodes"/>
	</e:node>
  <e:node name="Bond_2">
    <e:inputs>
      <e:input name="FaceValue" ref="Face_Value" />
      <e:input name="CouponRate" ref="Coupon_Rate" />
      <e:input name="Schedule" ref="Payment_Schedule" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleBond, SmartGraph.Engine.Nodes"/>
  </e:node>
  <e:node name="Bond_Pricer_1">
    <e:inputs>
      <e:input name="Bond" ref="Bond_1" />
      <e:input name="DiscountCurve" ref="Discount_Curve_1" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleBondPricer, SmartGraph.Engine.Nodes"/>
	</e:node>
  <e:node name="Bond_Pricer_2">
    <e:inputs>
      <e:input name="Bond" ref="Bond_2" />
      <e:input name="DiscountCurve" ref="Discount_Curve_2" />
    </e:inputs>
    <e:obj type="SmartGraph.Engine.Nodes.QLNet.SimpleBondPricer, SmartGraph.Engine.Nodes"/>
  </e:node>
</e:engine>
